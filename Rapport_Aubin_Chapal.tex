%
% file : Rapport_Aubin_Chapal.tex
% date : lun. nov. 12 17:36:23 CET 2018
% author : vchapal
% description :
%
\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage{amsmath, amssymb}

\begin{document}

\title{Rapport Devoir Maison - Jeu Light Up}
\author{Claire AUBIN et Victor CHAPAL}
\maketitle

\section{Jeu sans les murs}
Dans cette section nous ne traiterons que les contraintes 1, 2 et 4. En effet les autres ne nous concernent pas pour le moment car elles dépendent des murs.

\begin{itemize}
\item Contrainte 1 : $ \wedge_{i,j \in [1,N]} ~ islit_{i,j}  $ \\
 Nous considérons qu'une case est vide si elle ne contient pas de mur. Donc pour cette partie toutes les cases sont vides.
  
\item Contrainte 2 : $ islit_{i,j} ~ \Leftrightarrow ~ bulb_{i,j} ~ \vee ~ (\vee_{i \in [1,N]} ~ bulb_{i,j}) ~ \vee ~ (\vee_{j \in [1,N]} ~ bulb_{i,j}) $\\
  La case (i,j) est éclairée si elle contient une lampe ou s'il y a une lampe sur la ligne i ou sur la colonne j.
  
\item Contrainte 4 : $ bulb_{i,j} ~ \Rightarrow ~ (\wedge_{i \in [1,N]} ~ \neg bulb_{i,j}) ~ \wedge ~ (\wedge_{j \in [1,N]} ~ \neg bulb_{i,j})  $ \\
  Pour qu'une lampe ne soit pas éclairée par une autre lampe il faut qu'il n'y ai pas de lampe sur la ligne i et sur la colonne j.
\end{itemize}




\section{Ajout des murs sans cardinalit\'e}

Tout d'abord nous commençons par d\'efinir les deux formules suivnates :
\begin{itemize}
\item $ nowall_{(i,j)(k,l)} ~ \Leftrightarrow ~ \wedge_{m,n \in [i,k]\times[j,l]} ~ \neg wall_{m,n} $
\item $ haswall_{(i,j)(k,l)} ~ \Leftrightarrow ~ \neg nowall_{(i,j)(k,l)} $\\
\end{itemize}
Ce qui nous donne les contraintes suivantes :
\begin{itemize}
  
\item Contrainte 1 : $ nowall_{(i,j)(k,l)} ~ \Rightarrow ~ \wedge_{m,n \in [i,k]\times[j,l]} ~ islit_{m,n} $ \\
  Nous la redéfinissons car elle n'est plus valable avec l'ajout des murs. 
\item Contrainte 2 : Identique \`a la formule de la partie sans les murs. En effet cette contrainte ne fait pas directement réf\'erence aux murs.
\item Contrainte 3 :
\begin{align}
\nonumber
 wall_{i,j} ~ \Rightarrow &~ [(\vee_{m<i}bulb_{m,j} ~ \Rightarrow ~ \wedge_{m>i} ~ \neg islit_{m,j})~\wedge ~ (\wedge_{m>i} ~ bulb_{m,j} ~ \Rightarrow ~ \wedge_{m<i} ~ \neg islit_{m,j})\\
\nonumber
& \wedge ~ (\wedge_{n<j} ~ bulb_{i,n} ~ \Rightarrow ~ \wedge_{n>j} ~ \neg islit_{i,n})~ \wedge ~ (\wedge_{n>j} ~ bulb_{i,n} ~ \Rightarrow ~ \wedge_{n<j} ~ \neg islit_{i,n})]\\
\nonumber
\end{align}
Un mur bloque le passage de la lumière signifie que s'il y a un mur sur la case (i,j) alors si la lampe est situé au nord du mur toutes les case au sud du mur ne sont pas éclairés, et inversement. Et si il y a une lampe à droite du mur alors toutes les cases à gauche du mur ne seront pas éclairés, et inversement.
\item Contrainte 4 : Identique \'a la formule de la partie sans les murs. En effet cette contrainte ne fait pas directement ref\'erence aux murs.

\item Contrainte 5 : $ wall_{i,j} ~ \Rightarrow ~ \neg bulb_{i,j} $\\
Pour toutes les cases possédant un mur il ne peut y avoir de lampe.
\end{itemize}
Nous ne traitons pas les contraintes 2 et 4 dans cette partie. En effet ces contraintes ne font pas directement réf\'erences aux murs donc n'ont pas besoin d'êre modifiés. 

\section{Ajout des cardinalit\'es}

Tout d'abord nous commen\c{c}ons par d\'efinir les formules suivantes :
\begin{itemize}
\item $ card_{(i,j),0} ~ \Leftrightarrow ~ \neg bulb_{i,j} $
\item $ card_{(i,j),1} ~ \Leftrightarrow ~ bulb_{i,j} $
\item 
\begin{align}
\nonumber card(i,j),n,e,s,w ~ \Leftrightarrow &~card(i-1,j),n ~ \wedge ~ card(i,j+1),e
\\ 
\nonumber
&~ \wedge ~ card(i+1,j),s ~ \wedge ~ card(i,j-1),w 
\end{align}
\end{itemize}
Cela nous permet ainsi de r\'epondre à la derni\`ere contrainte :
\begin{align}
\nonumber
&card0(i,j) ~ \Leftrightarrow ~ card(i-1,j),0 ~ \wedge ~ card(i,j+1),0~ \wedge ~ card(i+1,j),0 ~ \wedge ~ card(i,j-1),0\\
\nonumber
\\
\nonumber
&card1(i,j) ~ \Leftrightarrow ~ \vee_{n+e+s+w = 1} ~ [card(i-1,j),n ~ \wedge ~ card(i,j+1),e ~ \wedge ~ card(i+1,j),s ~ \wedge ~ card(i,j-1),w]\\
\nonumber
\\
\nonumber
&card2(i,j) ~ \Leftrightarrow ~ \vee_{n+e+s+w = 2} ~ [card(i-1,j),n ~ \wedge ~ card(i,j+1),e~ \wedge ~ card(i+1,j),s ~ \wedge ~ card(i,j-1),w]\\
\nonumber
\\
\nonumber
&card3(i,j) ~ \Leftrightarrow ~ \vee_{n+e+s+w = 3} ~ [card(i-1,j),n ~ \wedge ~ card(i,j+1),e~ \wedge ~ card(i+1,j),s ~ \wedge ~ card(i,j-1),w]\\
\nonumber
\\
\nonumber
&card4(i,j) ~ \Leftrightarrow ~ card(i-1,j),1 ~ \wedge ~ card(i,j+1),1 ~ \wedge ~ card(i+1,j),1 ~ \wedge ~ card(i,j-1),1\\
\nonumber
\end{align}

\end{document}
